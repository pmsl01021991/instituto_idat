<div class="background"></div>

<div class="login-card">

    <div class="logo">
        <img src="../../../assets/imagenes/logoidat.png" width="200">
    </div>

    <h2>Hola, soy <b>EVA</b></h2>
    <p class="sub">Â¡Hoy serÃ¡ un buen dÃ­a!</p>

    <form [formGroup]="loginForm" (ngSubmit)="login()">

        <label>Tipo de usuario</label>
        <select formControlName="tipo" (change)="onTipoChange()">
            <option value="">Seleccione una opciÃ³n</option>
            <option *ngFor="let t of userTypes" [value]="t">{{ t | titlecase }}</option>
        </select>

        <div class="error" *ngIf="loginForm.get('tipo')?.touched && loginForm.get('tipo')?.hasError('required')">
            Debes seleccionar un rol antes de continuar.
        </div>

        <label>CÃ³digo de usuario</label>
        <div class="input-wrapper">
            <input type="text" formControlName="codigo" placeholder="Ingresa el usuario">
            <div class="bloqueo" *ngIf="loginForm.get('codigo')?.disabled" (click)="alertarSiNoRol()"></div>
        </div>

        <small class="example">Ejemplo: LN1533148</small>

        <label>ContraseÃ±a</label>
        <div class="password-box input-wrapper">
            <input [type]="showPassword ? 'text' : 'password'" formControlName="password" placeholder="Ingresa tu contraseÃ±a">
            <span class="eye" (click)="togglePassword()">{{ showPassword ? 'ğŸ‘ï¸' : 'ğŸ™ˆ' }}</span>
            <div class="bloqueo" *ngIf="loginForm.get('password')?.disabled" (click)="alertarSiNoRol()"></div>
        </div>

        <button type="submit" class="btn-login">Iniciar sesiÃ³n</button>

        <div *ngIf="mensajeRol" class="alerta-rol">{{ mensajeRol }}</div>

    </form>

    <a class="forgot">Â¿Olvidaste tu contraseÃ±a?</a>

</div>
